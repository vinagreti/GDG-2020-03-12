{"version":3,"sources":["ng://foo-counter/lib/foo-counter.component.html","ng://foo-counter/lib/foo-counter.component.ts","ng://foo-counter/lib/foo-counter.module.ts"],"names":["i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵadvance","i0.ɵɵtextInterpolate1","FooCounterComponent","this","interval","lastTotal","endSchedule$","Subject","total$","BehaviorSubject","prototype","start","_this","next","counter$","pipe","tap","incrementTotal","map","getTotalSeconds","takeUntil","stop","undefined","total","value","selectors","decls","vars","consts","template","rf","ctx","i0.ɵɵelementContainerStart","i0.ɵɵtemplate","i0.ɵɵelementContainerEnd","i0.ɵɵproperty","FooCounterModule","imports","CommonModule","FormsModule","declarations","exports"],"mappings":"shBACEA,EAAAA,kBAAAA,EAAAA,OAAAA,GAA2BC,EAAAA,cAAAA,UAAAA,WAAAA,OAAAA,EAAAA,iBAAAA,GAAAA,EAAAA,mBAAAA,UACzBD,EAAAA,kBAAAA,EAAAA,MAAIE,EAAAA,UAAAA,0BAAuBC,EAAAA,kBAC3BH,EAAAA,kBAAAA,EAAAA,SAAAA,GAAsBE,EAAAA,UAAAA,EAAAA,SAAKC,EAAAA,kBAC7BA,EAAAA,qDAFMC,EAAAA,aAAAA,GAAAC,EAAAA,sBAAAA,GAAAA,EAAAA,eAAAA,EAAAA,EAAAA,EAAAA,UAAAA,4DAINL,EAAAA,kBAAAA,EAAAA,OAAAA,GAA4BC,EAAAA,cAAAA,UAAAA,WAAAA,OAAAA,EAAAA,iBAAAA,GAAAA,EAAAA,mBAAAA,WAC1BD,EAAAA,kBAAAA,EAAAA,MAAIE,EAAAA,UAAAA,GAAgBC,EAAAA,kBACpBH,EAAAA,kBAAAA,EAAAA,SAAAA,GAAsBE,EAAAA,UAAAA,EAAAA,UAAMC,EAAAA,kBAC9BA,EAAAA,qDAFMC,EAAAA,aAAAA,GAAAC,EAAAA,sBAAAA,GAAAA,EAAAA,UAAAA,uBCYN,SAAAC,IAVAC,KAAAC,SAAW,IAIXD,KAAAE,UAAY,EAEJF,KAAAG,aAAe,IAAIC,EAAAA,QAEnBJ,KAAAK,OAAS,IAAIC,EAAAA,gBAAwB,UAI7CP,EAAAQ,UAAAC,MAAA,WAAA,IAAAC,EAAAT,KACEA,KAAKK,OAAOK,KAAK,GACjBV,KAAKW,SAAWV,EAAAA,SAASD,KAAKC,UAAUW,KACtCC,EAAAA,KAAI,WAAM,OAAAJ,EAAKK,oBACfC,EAAAA,KAAI,WAAM,OAAAN,EAAKO,qBACfC,EAAAA,UAAUjB,KAAKG,gBAInBJ,EAAAQ,UAAAW,KAAA,WACElB,KAAKE,UAAYF,KAAKgB,kBACtBhB,KAAKG,aAAaO,OAClBV,KAAKW,cAAWQ,GAGVpB,EAAAQ,UAAAO,eAAR,WACE,IAAMM,EAAQpB,KAAKK,OAAOgB,MAAQrB,KAAKC,SACvCD,KAAKK,OAAOK,KAAKU,IAGXrB,EAAAQ,UAAAS,gBAAR,WACE,OAAOhB,KAAKK,OAAOgB,MAAQ,sCAlClBtB,wCAAAA,EAAmBuB,UAAA,CAAA,CAAA,gBAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,CAAA,CAAA,EAAA,YAAA,CAAA,EAAA,SAAA,EAAA,gBAAA,CAAA,EAAA,UAAA,CAAA,OAAA,WAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,IDRhCE,EAAAA,2BAAAA,EAAAA,0BACEC,EAAAA,cAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,GAKAA,EAAAA,cAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,GAIFC,EAAAA,kCAVcC,EAAAA,cAAAA,aAAAA,EAAAA,eAAAA,EAAAA,EAAAA,EAAAA,WACNnC,EAAAA,aAAAA,GAAAmC,EAAAA,cAAAA,gBAAAA,GAKAnC,EAAAA,aAAAA,GAAAmC,EAAAA,cAAAA,gBAAAA,yKEDR,SAAAC,+CAKaA,oEAAAA,IAAgBC,QAAA,CAFlB,CAACC,EAAAA,aAAcC,EAAAA,yFAEbH,EAAgB,CAAAI,aAAA,CAJZtC,GAAmBmC,QAAA,CAExBC,EAAAA,aAAcC,EAAAA,aAAWE,QAAA,CADzBvC","sourcesContent":["<ng-container [ngSwitch]=\"(counter$ | async) ? true : false\">\n  <form *ngSwitchCase=\"true\" (submit)=\"stop()\">\n    <h2>{{ counter$ | async }}s</h2>\n    <button type=\"submit\">Parar</button>\n  </form>\n\n  <form *ngSwitchCase=\"false\" (submit)=\"start()\">\n    <h2>{{ lastTotal }}s</h2>\n    <button type=\"submit\">Contar</button>\n  </form>\n</ng-container>\n","import { Component } from '@angular/core';\nimport { BehaviorSubject, interval, Observable, Subject } from 'rxjs';\nimport { map, takeUntil, tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'foo-counter',\n  templateUrl: './foo-counter.component.html',\n})\nexport class FooCounterComponent {\n  interval = 100;\n\n  counter$: Observable<number>;\n\n  lastTotal = 0;\n\n  private endSchedule$ = new Subject();\n\n  private total$ = new BehaviorSubject<number>(0);\n\n  constructor() {}\n\n  start() {\n    this.total$.next(0);\n    this.counter$ = interval(this.interval).pipe(\n      tap(() => this.incrementTotal()),\n      map(() => this.getTotalSeconds()),\n      takeUntil(this.endSchedule$)\n    );\n  }\n\n  stop() {\n    this.lastTotal = this.getTotalSeconds();\n    this.endSchedule$.next();\n    this.counter$ = undefined;\n  }\n\n  private incrementTotal() {\n    const total = this.total$.value + this.interval;\n    this.total$.next(total);\n  }\n\n  private getTotalSeconds() {\n    return this.total$.value / 1000;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { FooCounterComponent } from './foo-counter.component';\n\n@NgModule({\n  declarations: [FooCounterComponent],\n  exports: [FooCounterComponent],\n  imports: [CommonModule, FormsModule],\n})\nexport class FooCounterModule {}\n"]}