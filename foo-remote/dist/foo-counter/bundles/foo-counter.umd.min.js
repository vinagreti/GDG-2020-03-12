!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define("foo-counter",["exports","@angular/core","rxjs","rxjs/operators","@angular/common","@angular/forms"],t):t((e=e||self)["foo-counter"]={},e.ng.core,e.rxjs,e.rxjs.operators,e.ng.common,e.ng.forms)}(this,(function(e,t,n,o,r,i){"use strict";function a(e,n){if(1&e){var o=t["ɵɵgetCurrentView"]();t["ɵɵelementStart"](0,"form",2),t["ɵɵlistener"]("submit",(function(){return t["ɵɵrestoreView"](o),t["ɵɵnextContext"]().stop()})),t["ɵɵelementStart"](1,"h2"),t["ɵɵtext"](2),t["ɵɵpipe"](3,"async"),t["ɵɵelementEnd"](),t["ɵɵelementStart"](4,"button",3),t["ɵɵtext"](5,"Parar"),t["ɵɵelementEnd"](),t["ɵɵelementEnd"]()}if(2&e){var r=t["ɵɵnextContext"]();t["ɵɵadvance"](2),t["ɵɵtextInterpolate1"]("",t["ɵɵpipeBind1"](3,1,r.counter$),"s")}}function s(e,n){if(1&e){var o=t["ɵɵgetCurrentView"]();t["ɵɵelementStart"](0,"form",2),t["ɵɵlistener"]("submit",(function(){return t["ɵɵrestoreView"](o),t["ɵɵnextContext"]().start()})),t["ɵɵelementStart"](1,"h2"),t["ɵɵtext"](2),t["ɵɵelementEnd"](),t["ɵɵelementStart"](3,"button",3),t["ɵɵtext"](4,"Contar"),t["ɵɵelementEnd"](),t["ɵɵelementEnd"]()}if(2&e){var r=t["ɵɵnextContext"]();t["ɵɵadvance"](2),t["ɵɵtextInterpolate1"]("",r.lastTotal,"s")}}var u=function(){function e(){this.interval=100,this.lastTotal=0,this.endSchedule$=new n.Subject,this.total$=new n.BehaviorSubject(0)}return e.prototype.start=function(){var e=this;this.total$.next(0),this.counter$=n.interval(this.interval).pipe(o.tap((function(){return e.incrementTotal()})),o.map((function(){return e.getTotalSeconds()})),o.takeUntil(this.endSchedule$))},e.prototype.stop=function(){this.lastTotal=this.getTotalSeconds(),this.endSchedule$.next(),this.counter$=void 0},e.prototype.incrementTotal=function(){var e=this.total$.value+this.interval;this.total$.next(e)},e.prototype.getTotalSeconds=function(){return this.total$.value/1e3},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=t["ɵɵdefineComponent"]({type:e,selectors:[["foo-counter"]],decls:4,vars:5,consts:[[3,"ngSwitch"],[3,"submit",4,"ngSwitchCase"],[3,"submit"],["type","submit"]],template:function(e,n){1&e&&(t["ɵɵelementContainerStart"](0,0),t["ɵɵpipe"](1,"async"),t["ɵɵtemplate"](2,a,6,3,"form",1),t["ɵɵtemplate"](3,s,5,1,"form",1),t["ɵɵelementContainerEnd"]()),2&e&&(t["ɵɵproperty"]("ngSwitch",!!t["ɵɵpipeBind1"](1,3,n.counter$)),t["ɵɵadvance"](2),t["ɵɵproperty"]("ngSwitchCase",!0),t["ɵɵadvance"](1),t["ɵɵproperty"]("ngSwitchCase",!1))},directives:[r.NgSwitch,r.NgSwitchCase,i["ɵangular_packages_forms_forms_y"],i.NgControlStatusGroup,i.NgForm],pipes:[r.AsyncPipe],encapsulation:2}),e}(),c=function(){function e(){}return e.ɵmod=t["ɵɵdefineNgModule"]({type:e}),e.ɵinj=t["ɵɵdefineInjector"]({factory:function(t){return new(t||e)},imports:[[r.CommonModule,i.FormsModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&t["ɵɵsetNgModuleScope"](c,{declarations:[u],imports:[r.CommonModule,i.FormsModule],exports:[u]}),e.FooCounterComponent=u,e.FooCounterModule=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=foo-counter.umd.min.js.map